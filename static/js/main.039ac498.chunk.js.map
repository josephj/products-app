{"version":3,"sources":["apis/products.js","modules/products/redux.js","modules/products/connectStore.js","components/Pager.js","components/PageLimit.js","modules/products/ProductList.js","modules/products/index.js","App.js","reducer.js","configureStore.js","index.js"],"names":["retrieve","fetch","then","response","json","retrieveProducts","dispatch","retrieveProductsStart","ProductsAPI","data","retrieveProductsComplete","catch","err","createAction","concat","setLimit","setPage","defaultState","isLoading","page","limit","products_redux","combineReducers","handleAction","state","_ref","payload","meta","handleActions","_handleActions","Object","defineProperty","_handleActions2","_ref2","_ref3","connect","store","_store$products","products","_store$products$meta","start","end","objectSpread","slice","total","length","bindActionCreators","stateProps","dispatchProps","onWillMount","onLimitChange","e","parseInt","target","value","onPageChange","Pager","onChange","count","Math","ceil","react_default","a","createElement","range","map","i","key","PageLimit","otherProps","objectWithoutProperties","assign","size","ProductList","_Component","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","props","_this$props","Wrapper","Header","Title","Info","style","marginLeft","List","product","Item","id","ItemWrapper","ItemMedia","Img","src","product_image","alt","ItemInfo","color","product_name","description","price","Footer","Component","defaultProps","onPagechange","styled","div","withConfig","displayName","componentId","h1","ul","li","img","connectStore","__webpack_require__","d","__webpack_exports__","App","react__WEBPACK_IMPORTED_MODULE_5___default","react_router__WEBPACK_IMPORTED_MODULE_7__","react_router__WEBPACK_IMPORTED_MODULE_8__","path","render","_modules_products__WEBPACK_IMPORTED_MODULE_10__","react_router__WEBPACK_IMPORTED_MODULE_9__","to","hot","module","reducer","history","router","connectRouter","productsReducer","createHashHistory","middlewares","routerMiddleware","thunk","process","REACT_APP_ENV","push","logger","preloadedState","createStore","createRootReducer","compose","applyMiddleware","ReactDOM","es","esm","document","getElementById"],"mappings":"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","file":"static/js/main.039ac498.chunk.js","sourcesContent":["const API_PATH = 'https://whitechdevs.github.io/reactjs-test/products.json';\n\nexport const retrieve = () => {\n  return fetch(API_PATH).then(response => response.json());\n};\n","import { combineReducers } from 'redux';\nimport { createAction, handleAction, handleActions } from 'redux-actions';\nimport { ProductsAPI } from '../../apis';\n\nconst PREFIX = 'products';\n\nexport const retrieveProducts = () => dispatch => {\n  dispatch(retrieveProductsStart());\n  ProductsAPI.retrieve()\n    .then(data => {\n      dispatch(retrieveProductsComplete(data));\n    })\n    .catch(err => {\n      dispatch(retrieveProductsComplete(err));\n    });\n};\nexport const retrieveProductsStart = createAction(\n  `${PREFIX}/RETRIEVE_PRODUCTS_START`\n);\nexport const retrieveProductsComplete = createAction(\n  `${PREFIX}/RECEIVE_PRODUCTS_COMPLETE`\n);\nexport const setLimit = createAction(`${PREFIX}/SET_LIMIT`);\nexport const setPage = createAction(`${PREFIX}/SET_PAGE`);\n\nconst defaultState = {\n  data: [],\n  meta: {\n    isLoading: false,\n    page: 1,\n    limit: 8\n  }\n};\n\nexport default combineReducers({\n  data: handleAction(\n    retrieveProductsComplete,\n    (state, { payload }) => payload,\n    defaultState.data\n  ),\n  meta: combineReducers({\n    isLoading: handleActions(\n      {\n        [retrieveProducts]: () => true,\n        [retrieveProductsComplete]: () => false\n      },\n      defaultState.meta.isLoading\n    ),\n    page: handleActions(\n      {\n        [setPage]: (state, { payload }) => payload,\n        [setLimit]: () => 1\n      },\n      defaultState.meta.page\n    ),\n    limit: handleActions(\n      {\n        [setLimit]: (state, { payload }) => payload\n      },\n      defaultState.meta.limit\n    )\n  })\n});\n","import { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { retrieveProducts, setLimit, setPage } from './redux';\n\nconst mapStateToProps = store => {\n  const {\n    data,\n    meta,\n    meta: { page, limit }\n  } = store.products;\n  const start = (page - 1) * limit;\n  const end = start + limit;\n  return {\n    data: data.slice(start, end),\n    total: data.length,\n    ...meta\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({ retrieveProducts, setLimit, setPage }, dispatch);\n};\nconst mergeProps = (stateProps, dispatchProps) => {\n  const { retrieveProducts, setLimit, setPage } = dispatchProps;\n  return {\n    ...stateProps,\n    onWillMount: () => retrieveProducts(),\n    onLimitChange: e => setLimit(parseInt(e.target.value, 10)),\n    onPageChange: e => setPage(parseInt(e.target.value), 10)\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n  mergeProps\n);\n","import range from 'lodash.range';\nimport React from 'react';\nexport default ({ total, limit, value, onChange }) => {\n  const count = Math.ceil(total / limit);\n\n  return (\n    <select value={value} onChange={onChange}>\n      {range(count).map((page, i) => (\n        <option key={i} value={page + 1}>\n          Page {page + 1}\n        </option>\n      ))}\n    </select>\n  );\n};\n","import React from 'react';\nexport default ({ onChange, value, ...otherProps }) => {\n  const sizes = [4, 8, 12, 24, 48, 96, 198];\n  return (\n    <select value={value} onChange={onChange} {...otherProps}>\n      {sizes.map((size, i) => (\n        <option key={i} value={size}>\n          {size} per page\n        </option>\n      ))}\n    </select>\n  );\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport connectStore from './connectStore';\nimport { Pager, PageLimit } from '../../components';\nimport styled from 'styled-components';\n\nexport class ProductList extends Component {\n  static propTypes = {\n    data: PropTypes.array,\n    isLoading: PropTypes.bool,\n    page: PropTypes.number,\n    limit: PropTypes.number,\n    total: PropTypes.number,\n    onWillMount: PropTypes.func,\n    onLimitChange: PropTypes.func,\n    onPageChange: PropTypes.func\n  };\n  static defaultProps = {\n    data: [],\n    isLoading: false,\n    page: 1,\n    limit: 8,\n    total: 0,\n    onWillMount: () => {},\n    onLimitChange: () => {},\n    onPagechange: () => {}\n  };\n  componentWillMount() {\n    this.props.onWillMount();\n  }\n  render() {\n    const {\n      data,\n      limit,\n      page,\n      total,\n      onLimitChange,\n      onPageChange\n    } = this.props;\n\n    return (\n      <Wrapper>\n        <Header>\n          <div>\n            <Title>All Products</Title>\n            <Info>24 Products</Info>\n          </div>\n          <div style={{ marginLeft: 'auto' }}>\n            <PageLimit value={limit} onChange={onLimitChange} />\n          </div>\n        </Header>\n        <List>\n          {data.map(product => (\n            <Item key={product.id}>\n              <ItemWrapper>\n                <ItemMedia>\n                  <Img src={product.product_image} alt=\"Product\" />\n                </ItemMedia>\n                <ItemInfo>\n                  <b style={{ color: '#666' }}>{product.product_name}</b>\n                  <br />\n                  {product.description}\n                  <br />\n                  <b>{product.price}</b>\n                </ItemInfo>\n              </ItemWrapper>\n            </Item>\n          ))}\n        </List>\n        <Footer>\n          <Pager\n            total={total}\n            limit={limit}\n            value={page}\n            onChange={onPageChange}\n          />\n        </Footer>\n      </Wrapper>\n    );\n  }\n}\n\nconst Wrapper = styled.div``;\n\nconst Header = styled.div`\n  align-items: flex-end;\n  border-bottom: solid 1px #eaeaea;\n  display: flex;\n  padding: 5px 6px;\n  margin: 0 0 15px;\n`;\nconst Title = styled.h1`\n  color: #666;\n  font-family: 'Raleway', sans-serif;\n  font-size: 20px;\n  font-weight: bold;\n  margin: 0 0 5px;\n`;\nconst Info = styled.div`\n  color: #999;\n  font-size: 13px;\n`;\nconst List = styled.ul`\n  margin: 0 -10px 0 0;\n  padding: 0;\n  list-style-type: none;\n  &:after {\n    content: '';\n    clear: both;\n    display: block;\n  }\n`;\nconst Item = styled.li`\n  display: inline-block;\n  width: 25%;\n`;\nconst ItemWrapper = styled.div`\n  background: #fff;\n  border: solid 1px #eaeaea;\n  margin: 0 10px 10px 0;\n  height: 280px;\n`;\nconst ItemMedia = styled.div`\n  padding: 12px 15px 8px;\n  text-align: center;\n`;\nconst ItemInfo = styled.div`\n  border-top: solid 1px #f2f2f2;\n  font-size: 13px;\n  line-height: 1.4;\n  padding: 10px 15px;\n  text-align: left;\n  // TODO\n  white-space: nowrap;\n  overflow: hidden;\n  width: 90%;\n  text-overflow: ellipsis;\n`;\nconst Img = styled.img`\n  display: inline-block;\n  width: 180px;\n  height: 180px;\n  object-fit: contain;\n`;\nconst Footer = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  margin: 20px 0;\n`;\nexport default connectStore(ProductList);\n","import reducer from './redux';\nimport ProductList from './ProductList';\n\nexport { reducer };\n\nexport default ProductList;\n","import React, { Component } from 'react';\nimport { hot } from 'react-hot-loader';\nimport { Redirect, Route, Switch } from 'react-router';\nimport Products from './modules/products';\n\nclass App extends Component {\n  render() {\n    return (\n      <div>\n        <Switch>\n          <Route path=\"/products\" render={() => <Products />} />\n          <Redirect to=\"/products\" />} />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default hot(module)(App);\n","import { combineReducers } from 'redux';\nimport { connectRouter } from 'connected-react-router';\nimport { reducer as productsReducer } from './modules/products';\n\nexport default history =>\n  combineReducers({\n    router: connectRouter(history),\n    products: productsReducer\n  });\n","import { routerMiddleware } from 'connected-react-router';\nimport { createHashHistory } from 'history';\nimport { applyMiddleware, compose, createStore } from 'redux';\nimport logger from 'redux-logger';\nimport thunk from 'redux-thunk';\nimport createRootReducer from './reducer';\n\nexport const history = createHashHistory();\n\nlet middlewares = [routerMiddleware(history), thunk];\nconst env = process.env.REACT_APP_ENV || process.env.NODE_ENV;\nif (env === 'development') {\n  middlewares.push(logger);\n}\n\nexport default function configureStore(preloadedState) {\n  const store = createStore(\n    createRootReducer(history),\n    preloadedState,\n    compose(applyMiddleware(...middlewares))\n  );\n\n  return store;\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { ConnectedRouter } from 'connected-react-router';\nimport configureStore, { history } from './configureStore';\nimport App from './App';\nimport './index.css';\n\nconst store = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <ConnectedRouter history={history}>\n      <App />\n    </ConnectedRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}